<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>券商费率对比表</title>
    <style>
        /* 全局样式 */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        /* 容器布局 */
        .container {
            display: flex;
            min-height: 100vh;
        }
        
        /* 左侧控制面板 */
        .sidebar {
            width: 280px;
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            overflow-y: auto;
            flex-shrink: 0;
        }
        
        .sidebar h2 {
            color: white;
            margin-bottom: 20px;
            border-bottom: 1px solid #34495e;
            padding-bottom: 10px;
        }
        
        .control-section {
            margin-bottom: 30px;
        }
        
        .control-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #ecf0f1;
        }
        
        .mode-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .mode-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background-color: #7f8c8d;
            color: white;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .mode-btn:hover {
            background-color: #95a5a6;
        }
        
        .mode-btn.active {
            background-color: #3498db;
        }
        
        /* 筛选器样式 */
        .filter-list {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 15px;
        }
        
        .filter-item {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .filter-item label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            color: #ecf0f1;
            font-size: 14px;
        }
        
        .filter-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
        }
        
        .high-end-badge {
            background-color: #e74c3c;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 5px;
        }
        
        /* 操作按钮 */
        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .action-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .btn-success {
            background-color: #27ae60;
            color: white;
        }
        
        .btn-success:hover {
            background-color: #2ecc71;
        }
        
        .btn-danger {
            background-color: #e74c3c;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .btn-secondary {
            background-color: #7f8c8d;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #95a5a6;
        }
        
        /* 右侧内容区域 */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .main-content h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #2c3e50;
        }
        
        /* 表格容器 */
        .table-container {
            margin-bottom: 30px;
        }
        
        /* 表格样式 */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .data-table th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
            text-align: left;
            padding: 12px;
            white-space: nowrap;
            position: sticky;
            top: 0;
        }
        
        .data-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #ddd;
            vertical-align: top;
        }
        
        .data-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .data-table tr:hover {
            background-color: #f1f1f1;
        }
        
        /* 特殊样式 */
        .recommend-cell {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 8px !important;
            color: #856404;
            font-weight: bold;
        }
        
        .no-data {
            text-align: center;
            padding: 40px !important;
            color: #7f8c8d;
            font-style: italic;
        }
        
        /* 页脚 */
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            text-align: center;
            color: #7f8c8d;
            font-size: 14px;
        }
        
        .footer p {
            margin-bottom: 8px;
        }
        
        /* 免责声明 */
        .disclaimer {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            margin-top: 30px;
            border-radius: 4px;
        }
        
        .disclaimer h3 {
            color: #495057;
            margin-bottom: 10px;
        }
        
        .disclaimer ul {
            padding-left: 20px;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                max-height: 300px;
                border-bottom: 2px solid #34495e;
            }
            
            .main-content {
                padding: 10px;
            }
            
            .table-container {
                overflow-x: auto;
            }
            
            .data-table th,
            .data-table td {
                padding: 8px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 左侧控制面板 -->
        <div class="sidebar">
            <h2>控制面板</h2>
            
            <!-- 模式选择 -->
            <div class="control-section">
                <div class="control-title">显示模式</div>
                <div class="mode-buttons">
                    <button id="internalModeBtn" class="mode-btn active">内部模式</button>
                    <button id="clientMode1Btn" class="mode-btn">客户模式1</button>
                    <button id="clientMode2Btn" class="mode-btn">客户模式2</button>
                </div>
            </div>
            
            <!-- 数据筛选 -->
            <div class="control-section">
                <div class="control-title">券商数据选择</div>
                <div class="filter-list" id="filterList">
                    <!-- 筛选项由JavaScript动态生成 -->
                </div>
                
                <!-- 操作按钮 -->
                <div class="action-buttons">
                    <button id="selectAllBtn" class="action-btn btn-success">全选</button>
                    <button id="deselectAllBtn" class="action-btn btn-danger">全不选</button>
                    <button id="resetBtn" class="action-btn btn-secondary">重置</button>
                </div>
            </div>
        </div>
        
        <!-- 右侧内容区域 -->
        <div class="main-content">
            <h1>券商费率对比表</h1>
            
            <!-- 表格容器 -->
            <div class="table-container">
                <table id="dataTable" class="data-table">
                    <thead>
                        <tr id="tableHeader">
                            <!-- 表头由JavaScript动态生成 -->
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <tr>
                            <td colspan="10" class="no-data">加载中...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- 免责声明 -->
            <div class="disclaimer">
                <h3>免责声明</h3>
                <ul>
                    <li>以上费率信息仅供参考，实际费率以券商官方公布为准。</li>
                    <li>各项优惠政策可能会根据券商规定随时调整，请在开户前与客户经理确认最新费率。</li>
                    <li>投资有风险，入市需谨慎。</li>
                </ul>
            </div>
            
            <!-- 页脚 -->
            <div class="footer">
                <p>联系方式：304278785 (QQ) | netqqnet (wechat) | qing606@gmail.com</p>
                <p>&copy; 2025 靠谱开户 - 专注于为散户朋友选择最优的股票费率方案</p>
            </div>
        </div>
    </div>

    <script>
        // 1. 数据定义 - JSON格式存储数据
        const brokerData = [
            {
                "券商代号": "01 国S",
                "券商": "国盛",
                "推荐语": "江西国资背景，稳定性好",
                "入金门槛": "1.5w",
                "股票": "万0.854 兔5\n1元起",
                "过户费": "沪万0.1,深免",
                "ETF": "万0.5兔5 \n1元起",
                "逆回购": "1折",
                "可转债": "万0.5兔5 \n1元起",
                "软件支持1": "同花顺",
                "软件支持2": "通达信",
                "永久费率要求": "入金1.5W，保持20个交易日，且股票类交易至少一次",
                "是否高端": false,
                "visible": true,
                "奖励": "400+千1.6",
                "渠道": "慧财",
                "营业厅": "广东",
                "备注": ""
            },
            {
                "券商代号": "02 CC",
                "券商": "财通",
                "推荐语": "股票费率最低，适合高频交易",
                "入金门槛": "1.5w",
                "股票": "万0.75兔5\n1元起",
                "过户费": "沪深万0.1",
                "ETF": "万0.5兔5\n0.1元起",
                "逆回购": "1折",
                "可转债": "沪万0.44\n深万0.8兔5 \n0.5起",
                "软件支持1": "同花顺",
                "软件支持2": "通达信",
                "永久费率要求": "入金1.5W，保持2个月，日均资产不低于1.3W，自动转永久",
                "是否高端": false,
                "visible": true,
                "tuijian": true
            },
            {
                "券商代号": "03 银H",
                "券商": "银河",
                "推荐语": "ETF交易费率优势明显",
                "入金门槛": "1.5w",
                "股票": "万0.854 \n5元起步",
                "过户费": "沪万0.1,深免",
                "ETF": "万0.5 免5\n0.01起",
                "逆回购": "1折",
                "可转债": "万0.5 , 5元起",
                "软件支持1": "同花顺",
                "软件支持2": "通达信",
                "永久费率要求": "入金1.5万以上，月日均资产1.5W以上(连续保持2个月)，且交易2000以上股票或者权益类ETF稳妥达标!自动转永久低佣!!",
                "是否高端": false,
                "visible": true,
                "tuijian": false
            }
     
        ];
        
        // 2. 表格配置 - 定义不同模式下的字段
        const tableTemplates = {
            // 内部模式 - 所有字段
            internal: [
                { key: "序号", title: "序号" },
                { key: "券商代号", title: "券商代号" },
                { key: "券商", title: "券商名称" },
                { key: "推荐语", title: "推荐语" },
                { key: "入金门槛", title: "入金门槛" },
                { key: "股票", title: "股票费率" },
                { key: "过户费", title: "过户费" },
                { key: "ETF", title: "ETF费率" },
                { key: "逆回购", title: "逆回购" },
                { key: "可转债", title: "可转债" },
                { key: "软件支持", title: "软件支持" },
                { key: "永久费率要求", title: "永久费率要求" },
                { key: "奖励", title: "奖励" },
                { key: "渠道", title: "渠道" },
                { key: "营业厅", title: "营业厅" },
                { key: "备注", title: "备注" }
            ],
            // 客户模式1 - 不显示券商名称、奖励、营业厅、渠道
            client1: [
                { key: "序号", title: "序号" },
                { key: "券商代号", title: "券商代号" },
                { key: "推荐语", title: "推荐语" },
                { key: "入金门槛", title: "入金门槛" },
                { key: "股票", title: "股票费率" },
                { key: "过户费", title: "过户费" },
                { key: "ETF", title: "ETF费率" },
                { key: "逆回购", title: "逆回购" },
                { key: "可转债", title: "可转债" },
                { key: "软件支持", title: "软件支持" },
                { key: "永久费率要求", title: "永久费率要求" },
                { key: "备注", title: "备注" }
            ],
            // 客户模式2 - 不显示奖励、营业厅、渠道
            client2: [
                { key: "序号", title: "序号" },
                { key: "券商代号", title: "券商代号" },
                { key: "券商", title: "券商名称" },
                { key: "推荐语", title: "推荐语" },
                { key: "入金门槛", title: "入金门槛" },
                { key: "股票", title: "股票费率" },
                { key: "过户费", title: "过户费" },
                { key: "ETF", title: "ETF费率" },
                { key: "逆回购", title: "逆回购" },
                { key: "可转债", title: "可转债" },
                { key: "软件支持", title: "软件支持" },
                { key: "永久费率要求", title: "永久费率要求" },
                { key: "备注", title: "备注" }
            ]
        };
        
        // 3. 当前模式
        let currentMode = 'internal';
        
        // 4. 生成两位数序号
        function generateSerialNumber(broker) {
            // 获取所有可见的数据
            const visibleData = brokerData.filter(b => b.visible);
            
            if (broker["是否高端"]) {
                // 高端从10开始编号
                const highEndData = visibleData.filter(b => b["是否高端"]);
                const index = highEndData.indexOf(broker);
                return String(10 + index).padStart(2, '0');
            } else {
                // 非高端从01开始编号
                const normalData = visibleData.filter(b => !b["是否高端"]);
                const index = normalData.indexOf(broker);
                return String(1 + index).padStart(2, '0');
            }
        }
        
        // 5. 初始化筛选器
        function initFilters() {
            const filterList = document.getElementById('filterList');
            filterList.innerHTML = '';
            
            brokerData.forEach((broker, index) => {
                const filterItem = document.createElement('div');
                filterItem.className = 'filter-item';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.id = `broker-${index}`;
                checkbox.checked = broker.visible;
                checkbox.dataset.index = index;
                
                checkbox.addEventListener('change', function() {
                    const idx = parseInt(this.dataset.index);
                    brokerData[idx].visible = this.checked;
                    renderTable();
                });
                
                const label = document.createElement('label');
                label.htmlFor = `broker-${index}`;
                
                let labelText = broker["券商代号"];
                if (currentMode === 'internal') {
                    labelText += ` - ${broker["券商"]}`;
                }
                
                if (broker["是否高端"]) {
                    label.innerHTML = `${labelText} <span class="high-end-badge">高端</span>`;
                } else {
                    label.textContent = labelText;
                }
                
                filterItem.appendChild(checkbox);
                filterItem.appendChild(label);
                filterList.appendChild(filterItem);
            });
        }
        
        // 6. 设置模式按钮
        function setupModeButtons() {
            const internalBtn = document.getElementById('internalModeBtn');
            const client1Btn = document.getElementById('clientMode1Btn');
            const client2Btn = document.getElementById('clientMode2Btn');
            
            function setMode(btn, mode) {
                // 重置所有按钮样式
                [internalBtn, client1Btn, client2Btn].forEach(b => {
                    b.classList.remove('active');
                });
                
                // 设置当前按钮为激活状态
                btn.classList.add('active');
                
                // 更新当前模式
                currentMode = mode;
                
                // 重新初始化筛选器和渲染表格
                initFilters();
                renderTable();
            }
            
            internalBtn.addEventListener('click', () => setMode(internalBtn, 'internal'));
            client1Btn.addEventListener('click', () => setMode(client1Btn, 'client1'));
            client2Btn.addEventListener('click', () => setMode(client2Btn, 'client2'));
        }
        
        // 7. 设置批量操作按钮
        function setupBatchButtons() {
            // 全选
            document.getElementById('selectAllBtn').addEventListener('click', function() {
                brokerData.forEach(broker => {
                    broker.visible = true;
                });
                
                // 更新复选框状态
                document.querySelectorAll('.filter-item input[type="checkbox"]').forEach(checkbox => {
                    checkbox.checked = true;
                });
                
                renderTable();
            });
            
            // 全不选
            document.getElementById('deselectAllBtn').addEventListener('click', function() {
                brokerData.forEach(broker => {
                    broker.visible = false;
                });
                
                // 更新复选框状态
                document.querySelectorAll('.filter-item input[type="checkbox"]').forEach(checkbox => {
                    checkbox.checked = false;
                });
                
                renderTable();
            });
            
            // 重置
            document.getElementById('resetBtn').addEventListener('click', function() {
                brokerData.forEach(broker => {
                    broker.visible = true;
                });
                
                // 更新复选框状态
                document.querySelectorAll('.filter-item input[type="checkbox"]').forEach(checkbox => {
                    checkbox.checked = true;
                });
                
                renderTable();
            });
        }
        
        // 8. 渲染表头
        function renderHeader() {
            const headerElement = document.getElementById('tableHeader');
            headerElement.innerHTML = '';
            
            const template = tableTemplates[currentMode];
            
            template.forEach(field => {
                const th = document.createElement('th');
                th.textContent = field.title;
                headerElement.appendChild(th);
            });
        }
        
        // 9. 渲染表格内容
        function renderTable() {
            // 渲染表头
            renderHeader();
            
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';
            
            const template = tableTemplates[currentMode];
            
            // 获取可见的数据
            const visibleData = brokerData.filter(broker => broker.visible);
            
            // 如果没有可见数据，显示提示信息
            if (visibleData.length === 0) {
                const row = document.createElement('tr');
                const cell = document.createElement('td');
                cell.colSpan = template.length;
                cell.className = 'no-data';
                cell.textContent = '请选择要显示的券商数据';
                row.appendChild(cell);
                tableBody.appendChild(row);
                return;
            }
            
            // 渲染数据行
            visibleData.forEach(broker => {
                const row = document.createElement('tr');
                
                template.forEach(field => {
                    const td = document.createElement('td');
                    
                    // 处理特殊字段
                    if (field.key === '序号') {
                        td.textContent = generateSerialNumber(broker);
                    } else if (field.key === '推荐语') {
                        td.className = 'recommend-cell';
                        td.textContent = broker[field.key];
                    } else if (field.key === '软件支持') {
                        // 合并软件支持1和软件支持2
                        const softwares = [];
                        if (broker['软件支持1']) softwares.push(broker['软件支持1']);
                        if (broker['软件支持2']) softwares.push(broker['软件支持2']);
                        td.innerHTML = softwares.join('<br>');
                    } else {
                        // 普通字段，处理换行符
                        const value = broker[field.key] || '';
                        td.innerHTML = value.replace(/\n/g, '<br>');
                    }
                    
                    row.appendChild(td);
                });
                
                tableBody.appendChild(row);
            });
        }
        
        // 10. 初始化
        function init() {
            initFilters();
            setupModeButtons();
            setupBatchButtons();
            renderTable();
        }
        
        // 页面加载完成后初始化
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>